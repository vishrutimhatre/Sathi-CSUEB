{"ast":null,"code":"var _jsxFileName = \"/Users/gaumhatr/StudioProjects/dashboard/parent-portal-master/src/Components/Prescription/Prescription.js\";\nimport React from \"react\";\nimport { Container, Table, Spinner, Modal } from \"react-bootstrap\";\nimport SideBar from \"../SideBar/SideBar\";\nimport { useContext } from \"react\";\nimport { DataContext } from \"../Data\";\nimport { useState } from \"react\";\nimport { useEffect } from \"react\";\nimport Hamburger from \"../Hamburger/Hamburger\";\nimport { Helmet } from \"react-helmet\";\n\nconst Prescription = () => {\n  const [show, setShow] = useState(false);\n  const [modal, setModal] = useState([]);\n  const [medi, setMedi] = useState([]);\n  const [data, setData] = useContext(DataContext);\n\n  const handleClose = () => setShow(false);\n\n  const [userPres, setUserPres] = useState([]);\n  useEffect(() => {\n    const fake = data.filter(x => {\n      if (x.prescription === true) {\n        return x;\n      }\n    });\n    setUserPres(fake);\n  }, [data]);\n\n  const handleShow = id => {\n    const fake = data.find(x => x._id === id);\n    setModal(fake);\n\n    if (fake.prescription) {\n      setMedi(fake.medicine);\n    }\n\n    setShow(true);\n  };\n\n  const updateMedi = e => {\n    e.preventDefault();\n    const form_data = document.getElementsByClassName(\"form-data\");\n    const newData = [...[], modal];\n    const formData = {\n      medicine: form_data[0].value,\n      dose: form_data[1].value,\n      days: form_data[2].value\n    };\n\n    if (newData[0].prescription === true) {\n      const final = [...newData[0].medicine, formData]; //console.log(final);\n\n      newData[0].medicine = final;\n      setMedi(final);\n      fetch(\"https://still-mesa-75708.herokuapp.com/updatePrescription\", {\n        method: \"POST\",\n        body: JSON.stringify({\n          id: newData[0]._id,\n          medicine: final\n        }),\n        headers: {\n          \"Content-type\": \"application/json; charset=UTF-8\"\n        }\n      }).then(response => response.json()).then(data => console.log(data));\n    } else {\n      const final = [formData];\n      newData[0].medicine = final;\n      setMedi(final);\n      newData[0].prescription = true;\n      fetch(\"https://still-mesa-75708.herokuapp.com/updatePrescription\", {\n        method: \"POST\",\n        body: JSON.stringify({\n          id: newData[0]._id,\n          medicine: final\n        }),\n        headers: {\n          \"Content-type\": \"application/json; charset=UTF-8\"\n        }\n      }).then(response => response.json()).then(data => console.log(data));\n    }\n\n    setModal(newData[0]);\n    form_data[0].value = \"\";\n    form_data[2].value = 0;\n  }; //console.log(userPres);\n\n\n  return /*#__PURE__*/React.createElement(Container, {\n    fluid: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Helmet, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"title\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }\n  }, \"Prescription  | Parents Portal\"), /*#__PURE__*/React.createElement(\"meta\", {\n    name: \"description\",\n    content: \"Now a days All things are based on Online. Find a good doctor is so  much hassle  now a days. Doctors portal is going to give you advantage that you don't need to go hospital physically.You can book and get the best treatment from now .\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"meta\", {\n    name: \"keywords\",\n    content: \"online doctors book appointment\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"main ml-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-md-block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(SideBar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"title__hamburger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"mt-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 11\n    }\n  }, \"Patients Added Prescription\"), /*#__PURE__*/React.createElement(Hamburger, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Table, {\n    responsive: \"sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 15\n    }\n  }, \"Sr.No.\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 15\n    }\n  }, \"Name\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 15\n    }\n  }, \"E-mail\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 15\n    }\n  }, \"Contact\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 15\n    }\n  }, \"Prescription\"))), userPres.length === 0 ? /*#__PURE__*/React.createElement(Spinner, {\n    animation: \"border\",\n    variant: \"warning\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 13\n    }\n  }) : userPres.map((x, index) => /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 19\n    }\n  }, index + 1), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 19\n    }\n  }, x.firstname), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 19\n    }\n  }, x.email), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 19\n    }\n  }, x.phone), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 19\n    }\n  }, x.prescription ? /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-dark w-100\",\n    onClick: () => handleShow(x._id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 23\n    }\n  }, \"View\") : /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn text-center w-100\",\n    onClick: () => handleShow(x._id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 23\n    }\n  }, \"ADD \", /*#__PURE__*/React.createElement(\"span\", {\n    className: \"text-success\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 29\n    }\n  }, \"+\"), \" \"))))))), /*#__PURE__*/React.createElement(Modal, {\n    show: show,\n    onHide: handleClose,\n    size: \"lg\",\n    className: \"modal-box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Header, {\n    closeButton: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"u\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 15\n    }\n  }, \"Patient Name:\"), \" \", modal.firstname))), /*#__PURE__*/React.createElement(Modal.Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    className: \"medicine_input \",\n    onSubmit: updateMedi,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Medicine Name\",\n    className: \"btn btn-light  rounded-0 form-data\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"select\", {\n    name: \"dose\",\n    id: \"dose\",\n    className: \"btn btn-light  rounded-0 form-data\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"1-1-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 17\n    }\n  }, \"1-1-1\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"1-1-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 17\n    }\n  }, \"1-1-0\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"1-0-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 17\n    }\n  }, \"1-0-1\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"0-1-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 17\n    }\n  }, \"0-1-1\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"1-0-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 17\n    }\n  }, \"1-0-0\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"0-1-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 17\n    }\n  }, \"0-1-0\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"0-0-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 17\n    }\n  }, \"0-0-1\")), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"number\",\n    name: \"day\",\n    id: \"day\",\n    placeholder: \"Day\",\n    className: \"btn btn btn-light rounded-0 form-data\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    value: \"+\",\n    className: \"btn btn-dark rounded-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(Table, {\n    responsive: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 19\n    }\n  }, \"Medicine Name\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 19\n    }\n  }, \"Dose\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 19\n    }\n  }, \"Days\"))), modal.prescription === true && medi && medi.map(x => /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 23\n    }\n  }, x.medicine), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 23\n    }\n  }, x.dose), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 23\n    }\n  }, x.days), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 23\n    }\n  }, \"x\")))))))));\n};\n\nexport default Prescription;","map":{"version":3,"sources":["/Users/gaumhatr/StudioProjects/dashboard/parent-portal-master/src/Components/Prescription/Prescription.js"],"names":["React","Container","Table","Spinner","Modal","SideBar","useContext","DataContext","useState","useEffect","Hamburger","Helmet","Prescription","show","setShow","modal","setModal","medi","setMedi","data","setData","handleClose","userPres","setUserPres","fake","filter","x","prescription","handleShow","id","find","_id","medicine","updateMedi","e","preventDefault","form_data","document","getElementsByClassName","newData","formData","value","dose","days","final","fetch","method","body","JSON","stringify","headers","then","response","json","console","log","length","map","index","firstname","email","phone"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { Container, Table, Spinner, Modal } from \"react-bootstrap\";\nimport SideBar from \"../SideBar/SideBar\";\nimport { useContext } from \"react\";\nimport { DataContext } from \"../Data\";\nimport { useState } from \"react\";\nimport { useEffect } from \"react\";\nimport Hamburger from \"../Hamburger/Hamburger\";\nimport { Helmet } from \"react-helmet\";\n\nconst Prescription = () => {\n  const [show, setShow] = useState(false);\n  const [modal, setModal] = useState([]);\n  const [medi, setMedi] = useState([]);\n  const [data, setData] = useContext(DataContext);\n  const handleClose = () => setShow(false);\n  const [userPres, setUserPres] = useState([]);\n  useEffect(() => {\n    const fake = data.filter((x) => {\n      if (x.prescription === true) {\n        return x;\n      }\n    });\n    setUserPres(fake);\n  }, [data]);\n  const handleShow = (id) => {\n    const fake = data.find((x) => x._id === id);\n    setModal(fake);\n    if (fake.prescription) {\n      setMedi(fake.medicine);\n    }\n    setShow(true);\n  };\n  const updateMedi = (e) => {\n    e.preventDefault();\n    const form_data = document.getElementsByClassName(\"form-data\");\n    const newData = [...[], modal];\n    const formData = {\n      medicine: form_data[0].value,\n      dose: form_data[1].value,\n      days: form_data[2].value,\n    };\n    if (newData[0].prescription === true) {\n      const final = [...newData[0].medicine, formData];\n      //console.log(final);\n      newData[0].medicine = final;\n      setMedi(final);\n      fetch(\"https://still-mesa-75708.herokuapp.com/updatePrescription\", {\n        method: \"POST\",\n        body: JSON.stringify({\n          id: newData[0]._id,\n          medicine: final,\n        }),\n        headers: {\n          \"Content-type\": \"application/json; charset=UTF-8\",\n        },\n      })\n        .then((response) => response.json())\n        .then((data) => console.log(data));\n    } else {\n      const final = [formData];\n      newData[0].medicine = final;\n      setMedi(final);\n      newData[0].prescription = true;\n      fetch(\"https://still-mesa-75708.herokuapp.com/updatePrescription\", {\n        method: \"POST\",\n        body: JSON.stringify({\n          id: newData[0]._id,\n          medicine: final,\n        }),\n        headers: {\n          \"Content-type\": \"application/json; charset=UTF-8\",\n        },\n      })\n        .then((response) => response.json())\n        .then((data) => console.log(data));\n    }\n    setModal(newData[0]);\n    form_data[0].value = \"\";\n    form_data[2].value = 0;\n  };\n  //console.log(userPres);\n  return (\n    \n    <Container fluid>\n      <Helmet>\n        <title>Prescription  | Parents Portal</title>\n        <meta name=\"description\" content=\"Now a days All things are based on Online. Find a good doctor is so  much hassle  now a days.\n        Doctors portal is going to give you advantage that you don't need to go hospital physically.You can book and get the best treatment from now .\"/>\n        <meta name=\"keywords\" content=\"online doctors book appointment\"/>\n      </Helmet>\n      <div className=\"main ml-6\">\n        <div className=\"d-md-block\">\n          <SideBar></SideBar>\n        </div>\n        <div className=\"title__hamburger\">\n          <h3 className=\"mt-3\">Patients Added Prescription</h3>\n          <Hamburger></Hamburger>\n        </div>\n        <Table responsive=\"sm\">\n          <thead>\n            <tr>\n              <th>Sr.No.</th>\n              <th>Name</th>\n              <th>E-mail</th>\n              <th>Contact</th>\n              <th>Prescription</th>\n            </tr>\n          </thead>\n\n          {userPres.length === 0 ? (\n            <Spinner animation=\"border\" variant=\"warning\" />\n          ) : (\n            userPres.map((x, index) => (\n              <tbody>\n                <tr>\n                  <td>{index + 1}</td>\n                  <td>{x.firstname}</td>\n                  <td>{x.email}</td>\n                  <td>{x.phone}</td>\n                  <td>\n                    {x.prescription ? (\n                      <button\n                        className=\"btn btn-dark w-100\"\n                        onClick={() => handleShow(x._id)}\n                      >\n                        View\n                      </button>\n                    ) : (\n                      <button\n                        className=\"btn text-center w-100\"\n                        onClick={() => handleShow(x._id)}\n                      >\n                        ADD <span className=\"text-success\">+</span>{\" \"}\n                      </button>\n                    )}\n                  </td>\n                </tr>\n              </tbody>\n            ))\n          )}\n        </Table>\n      </div>\n      <Modal show={show} onHide={handleClose} size=\"lg\" className=\"modal-box\">\n        <Modal.Header closeButton>\n          <p>\n            <b>\n              <u>Patient Name:</u> {modal.firstname}\n            </b>\n          </p>\n        </Modal.Header>\n        <Modal.Body>\n          <div>\n            <form className=\"medicine_input \" onSubmit={updateMedi}>\n              <input\n                type=\"text\"\n                placeholder=\"Medicine Name\"\n                className=\"btn btn-light  rounded-0 form-data\"\n                required\n              />\n              <select\n                name=\"dose\"\n                id=\"dose\"\n                className=\"btn btn-light  rounded-0 form-data\"\n                required\n              >\n                <option value=\"1-1-1\">1-1-1</option>\n                <option value=\"1-1-0\">1-1-0</option>\n                <option value=\"1-0-1\">1-0-1</option>\n                <option value=\"0-1-1\">0-1-1</option>\n                <option value=\"1-0-0\">1-0-0</option>\n                <option value=\"0-1-0\">0-1-0</option>\n                <option value=\"0-0-1\">0-0-1</option>\n              </select>\n              <input\n                type=\"number\"\n                name=\"day\"\n                id=\"day\"\n                placeholder=\"Day\"\n                className=\"btn btn btn-light rounded-0 form-data\"\n                required\n              />\n              <input\n                type=\"submit\"\n                value=\"+\"\n                className=\"btn btn-dark rounded-0\"\n              />\n            </form>\n            <Table responsive>\n              <thead>\n                <tr>\n                  <th>Medicine Name</th>\n                  <th>Dose</th>\n                  <th>Days</th>\n                </tr>\n              </thead>\n\n              {modal.prescription === true &&\n                medi &&\n                medi.map((x) => (\n                  <tbody>\n                    <tr>\n                      <td>{x.medicine}</td>\n                      <td>{x.dose}</td>\n                      <td>{x.days}</td>\n                      <td>x</td>\n                    </tr>\n                  </tbody>\n                ))}\n            </Table>\n          </div>\n        </Modal.Body>\n      </Modal>\n    </Container>\n  );\n};\n\nexport default Prescription;\n"]},"metadata":{},"sourceType":"module"}